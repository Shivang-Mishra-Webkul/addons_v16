<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Saas Plans Sinippets -->
        <template id="saas_plans_data" name="Saas Plans">
            <section id="saas_plans" class="pt24">
                <h2 class="text-center">Saas Plans</h2>
                <div class="saas_plans">
                </div>
            </section>
        </template>
    
    
        <template id="saas_pricing_plans" name="Our Saas Plans">
            <t t-set="ent_versions" t-value="saas_odoo_version.filtered(lambda x: x.is_enterprise == True and x.state=='confirm')"/>
            <t t-if="plans.filtered(lambda x: x.odoo_version_code in ent_versions.mapped('code'))">
                <div class="container-fluid text-center" >
                    <div class="btn-group mt-2" role="group" aria-label="SaaS Plans Buttons">
                        
                        <input type="radio" class="btn-check" name="btnradio" id="community_btn" autocomplete="off" checked="checked" />
                        <label class="btn btn-outline-primary" for="community_btn">Community</label>
                        
                        <input type="radio" class="btn-check" name="btnradio" id="enterprise_btn" autocomplete="off" />
                        <label class="btn btn-outline-primary" for="enterprise_btn">Enterprise</label>
                    </div>
                </div>
            </t>
            <div style="display:flex; align-items:center;">
                <div class="container saas_plans_container">
                    <section class="pb32">
                        <div id="community_plans">
                            <div class="d-flex justify-content-center mx-auto mt-3" style="width: 70%;border-bottom: 1px solid darkgrey;border-top: 1px solid darkgrey;padding: 20px 0 20px 0;border-radius: 5px;background: radial-gradient(transparent 25%, grey 100%);">
                                <t t-set="community_version" t-value="saas_odoo_version.filtered(lambda x: x.is_enterprise == False)" />
                                <div class="btn_div_lg dd_element_body upper_version_div mx-auto border-0" t-if="community_version">
                                    <div class="dropdown_menu_items">
                                        <button class="btn dropdown-toggle btn-secondary btn-md def_community_version_btn" type="button" id="dropdownmenu2" t-att-data-code="community_version[0].code" t-att-data-id="community_version[0].id" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <t t-esc="community_version[0].name" />
                                        </button>
                                        <div class="dropdown-menu" aria-labelledby="dropdownmenu2">
                                            <t t-foreach="community_version" t-as="version">
                                                <button class="dropdown-item btn-md community_version_button" t-att-data-code="version.code" t-att-data-id="version.id" type="button">
                                                <t t-esc="version.name" />
                                                </button>
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="community_plans_card">
                            </div>
                        </div>
        
                        <div id="enterprise_plans" style="display:none;">
                            <div class="d-flex justify-content-center mx-auto mt-3" style="width: 70%;border-bottom: 1px solid darkgrey;border-top: 1px solid darkgrey;padding: 20px 0 20px 0;border-radius: 5px;background: radial-gradient(transparent 25%, grey 100%);">
                                <t t-set="enterprise_version" t-value="saas_odoo_version.filtered(lambda x: x.is_enterprise == True and x.state=='confirm')" />
                                <div class="btn_div_lg dd_element_body upper_version_div mx-auto border-0" t-if="enterprise_version">
                                    <div class="dropdown_menu_items">
                                        <button class="btn dropdown-toggle btn-secondary btn-md def_enterprise_version_btn" type="button" id="dropdownmenu2" t-att-data-id="enterprise_version[0].id" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <t t-esc="enterprise_version[0].name" />
                                        </button>
                                        <div class="dropdown-menu" aria-labelledby="dropdownmenu2">
                                            <t t-foreach="enterprise_version" t-as="version">
                                                <button class="dropdown-item btn-md enterprise_version_button" t-att-data-id="version.id" type="button">
                                                <t t-esc="version.name" />
                                                </button>
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="enterprise_plans_card">
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </template>


        <template id="saas_plans_cards" name="Saas Community Plans">
            <section id="saas_community_plan" class="pt24">
                <t t-if="plans">
                    <div style="display:flex; align-items:center;justify-content:center;">
                        <div class="owl-carousel owl-theme">
                            <t t-foreach="plans" t-as="plan">
                                <div class="card item plan_card" style="background: radial-gradient(circle at top, #f5f1ef, #b3c2c7);" >
                                    <div class="card-header border-bottom-white">
                                        <h5 class="card-title text-center text-uppercase pt-4 pb-2"><t t-out="plan.name"/></h5>
                                    </div>
                                    <div class="card-body d-flex flex-column justify-content-center p-0" style="background:transparent !important;">
                                        <p class="mx-3" style="text-align:justify;">
                                            <t t-out="plan.summary"/>
                                        </p>
                                        <a class="plan_button align-self-center mt-auto mb-3" t-att-href="plan.product_template_ids[0].website_url if plan.product_template_ids else '/contactus'">
                                            <button type="button" class="btn text-center mx-auto text-dark" style="background:#48d760;">
                                                <t t-if="plan.product_template_ids">
                                                    Buy Now
                                                </t>
                                                <t t-else="">
                                                    Contact Us
                                                </t>
                                            </button>
                                        </a>
                                    </div>
                                </div>
                            </t>
                        </div>
                    </div>
                </t>
                <t t-else="">
                    <p class="text-center"><t t-esc="message"/></p>
                </t>
            </section>
        </template>

        <template id="saas_common_website_snippets" inherit_id="website.snippets" name="Saas Common Website Snippets Entry">
            <xpath expr="//div[@id='o_scroll']//div[@id='snippet_structure']" position="before">
                <div id="snippet_saas" class="snippet_structure o_panel">
                    <div class="o_panel_header"><i class="fa fa-th-large"/><span style="margin-left:2px;">Saas Kit Plans Snippets</span></div>
                    <div class="o_panel_body">
                        <t t-snippet="saas_kit_custom_plans.saas_plans_data" t-thumbnail="/saas_kit_custom_plans/static/src/img/saas_plans.png"/>
                    </div>
                </div>
            </xpath>
        </template>
        
    </data>
</odoo>
